to-report is-officially-quarantining?
  report #days-I-should-remain-in-self-quarantining > 0
end


to update-position-regarding-self-quarantining
  if slice-of-the-day = "morning"
  [
    ask people with [is-currently-actally-quarantining?]
    [
      if  random-float 1 < daily-dropping-off-of-quarantining
      [
        set is-violating-quarantining? true
      ]
    ]
  ]
end

to update-quarantining-decisions
  update-position-regarding-self-quarantining
  
  ask people with [#days-I-should-remain-in-self-quarantining > 0] [
    set #days-I-should-remain-in-self-quarantining #days-I-should-remain-in-self-quarantining - 1
  ]
end


to quarantining-reaction-when-being-infected
  if random-float 1  < ratio-self-quarantining-when-a-family-member-is-symptomatic[
    include-time-for-quarantining 7 * #ticks-per-day
  ]
end

to include-time-for-quarantining [t]
  set #days-I-should-remain-in-self-quarantining max (list t #days-I-should-remain-in-self-quarantining)
end

to quarantining-reaction-when-someone-from-household-is-infected
  if is-infected-and-their-families-requested-to-stay-at-home? and random-float 1  < ratio-self-quarantining-when-a-family-member-is-symptomatic
  [include-time-for-quarantining 14 * #ticks-per-day]
end

to-report quarantiners
  report people with [is-currently-actally-quarantining?]
end